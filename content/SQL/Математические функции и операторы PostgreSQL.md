---
title: Математические функции и операторы PostgreSQL
date: 2023-11-08
---
## Математические операторы
<table border="1" class="table" summary="Математические операторы"><colgroup><col><col><col><col></colgroup><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Оператор</font></font></th><th>Описание</th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Результат</font></font></th></tr></thead><tbody><tr><td><code class="literal">+</code></td><td>сложение</td><td><code class="literal">2 + 3</code></td><td><code class="literal">5</code></td></tr><tr><td><code class="literal">-</code></td><td>вычитание</td><td><code class="literal">2 - 3</code></td><td><code class="literal">-1</code></td></tr><tr><td><code class="literal">*</code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">умножение</font></font></td><td><code class="literal">2 * 3</code></td><td><code class="literal">6</code></td></tr><tr><td><code class="literal">/</code></td><td>деление (при целочисленном делении остаток отбрасывается)</td><td><code class="literal">4 / 2</code></td><td><code class="literal">2</code></td></tr><tr><td><code class="literal">%</code></td><td>остаток от деления</td><td><code class="literal">5 % 4</code></td><td><code class="literal">1</code></td></tr><tr><td><code class="literal">^</code></td><td>возведение в степень (вычисляется слева направо)</td><td><code class="literal">2.0 ^ 3.0</code></td><td><code class="literal">8</code></td></tr><tr><td><code class="literal">|/</code></td><td>квадратный корень</td><td><code class="literal">|/ 25.0</code></td><td><code class="literal">5</code></td></tr><tr><td><code class="literal">||/</code></td><td>кубический корень</td><td><code class="literal">||/ 27.0</code></td><td><code class="literal">3</code></td></tr><tr><td><code class="literal">!</code></td><td>факториал (устаревший оператор, его заменяет функция <code class="function">factorial()</code>)</td><td><code class="literal">5 !</code></td><td><code class="literal">120</code></td></tr><tr><td><code class="literal">!!</code></td><td>факториал в префиксной форме (устаревший оператор, его заменяет функция <code class="function">factorial()</code>)</td><td><code class="literal">!! 5</code></td><td><code class="literal">120</code></td></tr><tr><td><code class="literal">@</code></td><td>модуль числа (абсолютное значение)</td><td><code class="literal">@ -5.0</code></td><td><code class="literal">5</code></td></tr><tr><td><code class="literal">&amp;</code></td><td>битовый AND</td><td><code class="literal">91 &amp; 15</code></td><td><code class="literal">11</code></td></tr><tr><td><code class="literal">|</code></td><td>битовый OR</td><td><code class="literal">32 | 3</code></td><td><code class="literal">35</code></td></tr><tr><td><code class="literal">#</code></td><td>битовый XOR</td><td><code class="literal">17 # 5</code></td><td><code class="literal">20</code></td></tr><tr><td><code class="literal">~</code></td><td>битовый NOT</td><td><code class="literal">~1</code></td><td><code class="literal">-2</code></td></tr><tr><td><code class="literal">&lt;&lt;</code></td><td>битовый сдвиг влево</td><td><code class="literal">1 &lt;&lt; 4</code></td><td><code class="literal">16</code></td></tr><tr><td><code class="literal">&gt;&gt;</code></td><td>битовый сдвиг вправо</td><td><code class="literal">8 &gt;&gt; 2</code></td><td><code class="literal">2</code></td></tr></tbody></table>
## Математические функции
<table border="1" class="table" summary="Математические функции"><colgroup><col><col><col><col><col></colgroup><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Функция</font></font></th><th>Тип результата</th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Описание</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Пример</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Результат</font></font></th></tr></thead><tbody><tr><td><a class="indexterm" id="idp9747"></a> <code class="literal"><code class="function">abs(<em class="replaceable"><code>x</code></em>)</code></code></td><td>тип аргумента</td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">модуль числа (абсолютное значение)</font></font></td><td><code class="literal">abs(-17.4)</code></td><td><code class="literal">17.4</code></td></tr><tr><td><a class="indexterm" id="idp9760"></a> <code class="literal"><code class="function">cbrt(<code class="type">dp</code>)</code></code></td><td><code class="type">dp</code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">кубический корень</font></font></td><td><code class="literal">cbrt(27.0)</code></td><td><code class="literal">3</code></td></tr><tr><td><a class="indexterm" id="idp9774"></a> <code class="literal"><code class="function">ceil(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>ближайшее целое, большее или равное аргументу</td><td><code class="literal">ceil(-42.8)</code></td><td><code class="literal">-42</code></td></tr><tr><td><a class="indexterm" id="idp9788"></a> <code class="literal"><code class="function">ceiling(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>ближайшее целое, большее или равное аргументу (равнозначно <code class="function">ceil</code>)</td><td><code class="literal">ceiling(-95.3)</code></td><td><code class="literal">-95</code></td></tr><tr><td><a class="indexterm" id="idp9803"></a> <code class="literal"><code class="function">degrees(<code class="type">dp</code>)</code></code></td><td><code class="type">dp</code></td><td>преобразование радианов в градусы</td><td><code class="literal">degrees(0.5)</code></td><td><code class="literal">28.6478897565​412</code></td></tr><tr><td><a class="indexterm" id="idp9817"></a> <code class="literal"><code class="function">div(<em class="parameter"><code>y</code></em> <code class="type">numeric</code>, <em class="parameter"><code>x</code></em> <code class="type">numeric</code>)</code></code></td><td><code class="type">numeric</code></td><td>целочисленный результат <em class="parameter"><code>y</code></em>/<em class="parameter"><code>x</code></em></td><td><code class="literal">div(9,4)</code></td><td><code class="literal">2</code></td></tr><tr><td><a class="indexterm" id="idp9836"></a> <code class="literal"><code class="function">exp(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>экспонента</td><td><code class="literal">exp(1.0)</code></td><td><code class="literal">2.7182818284​5905</code></td></tr><tr><td><a class="indexterm" id="idp9850"></a> <code class="literal"><code class="function">factorial(<code class="type">bigint</code>)</code></code></td><td><code class="type">numeric</code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">факториал</font></font></td><td><code class="literal">factorial(5)</code></td><td><code class="literal">120</code></td></tr><tr><td><a class="indexterm" id="idp9864"></a> <code class="literal"><code class="function">floor(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>ближайшее целое, меньшее или равное аргументу</td><td><code class="literal">floor(-42.8)</code></td><td><code class="literal">-43</code></td></tr><tr><td><a class="indexterm" id="idp9878"></a> <code class="literal"><code class="function">ln(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>натуральный логарифм</td><td><code class="literal">ln(2.0)</code></td><td><code class="literal">0.6931471805​59945</code></td></tr><tr><td><a class="indexterm" id="idp9892"></a> <code class="literal"><code class="function">log(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>логарифм по основанию 10</td><td><code class="literal">log(100.0)</code></td><td><code class="literal">2</code></td></tr><tr><td><code class="literal"><code class="function">log(<em class="parameter"><code>b</code></em> <code class="type">numeric</code>, <em class="parameter"><code>x</code></em> <code class="type">numeric</code>)</code></code></td><td><code class="type">numeric</code></td><td>логарифм по основанию <em class="parameter"><code>b</code></em></td><td><code class="literal">log(2.0, 64.0)</code></td><td><code class="literal">6.0000000000</code></td></tr><tr><td><a class="indexterm" id="idp9922"></a> <code class="literal"><code class="function">mod(<em class="parameter"><code>y</code></em>, <em class="parameter"><code>x</code></em>)</code></code></td><td>зависит от типов аргументов</td><td>остаток от деления <em class="parameter"><code>y</code></em>/<em class="parameter"><code>x</code></em></td><td><code class="literal">mod(9,4)</code></td><td><code class="literal">1</code></td></tr><tr><td><a class="indexterm" id="idp9938"></a> <code class="literal"><code class="function">pi()</code></code></td><td><code class="type">dp</code></td><td>константа <span class="quote">«<span class="quote">π</span>»</span></td><td><code class="literal">pi()</code></td><td><code class="literal">3.1415926535​8979</code></td></tr><tr><td><a class="indexterm" id="idp9952"></a> <code class="literal"><code class="function">power(<em class="parameter"><code>a</code></em> <code class="type">dp</code>, <em class="parameter"><code>b</code></em> <code class="type">dp</code>)</code></code></td><td><code class="type">dp</code></td><td><em class="parameter"><code>a</code></em> возводится в степень <em class="parameter"><code>b</code></em></td><td><code class="literal">power(9.0, 3.0)</code></td><td><code class="literal">729</code></td></tr><tr><td><code class="literal"><code class="function">power(<em class="parameter"><code>a</code></em> <code class="type">numeric</code>, <em class="parameter"><code>b</code></em> <code class="type">numeric</code>)</code></code></td><td><code class="type">numeric</code></td><td><em class="parameter"><code>a</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">возводится в степень</font></font><em class="parameter"><code>b</code></em></td><td><code class="literal">power(9.0, 3.0)</code></td><td><code class="literal">729</code></td></tr><tr><td><a class="indexterm" id="idp9988"></a> <code class="literal"><code class="function">radians(<code class="type">dp</code>)</code></code></td><td><code class="type">dp</code></td><td>преобразование градусов в радианы</td><td><code class="literal">radians(45.0)</code></td><td><code class="literal">0.7853981633​97448</code></td></tr><tr><td><a class="indexterm" id="idp10002"></a> <code class="literal"><code class="function">round(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>округление до ближайшего целого</td><td><code class="literal">round(42.4)</code></td><td><code class="literal">42</code></td></tr><tr><td><code class="literal"><code class="function">round(<em class="parameter"><code>v</code></em> <code class="type">numeric</code>, <em class="parameter"><code>s</code></em> <code class="type">int</code>)</code></code></td><td><code class="type">numeric</code></td><td>округление <em class="parameter"><code>v</code></em> до <em class="parameter"><code>s</code></em> десятичных знаков</td><td><code class="literal">round(42.4382, 2)</code></td><td><code class="literal">42.44</code></td></tr><tr><td><a class="indexterm" id="idp10033"></a> <code class="literal"><code class="function">scale(<code class="type">numeric</code>)</code></code></td><td><code class="type">integer</code></td><td>масштаб аргумента (число десятичных цифр в дробной части)</td><td><code class="literal">scale(8.41)</code></td><td><code class="literal">2</code></td></tr><tr><td><a class="indexterm" id="idp10047"></a> <code class="literal"><code class="function">sign(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>знак аргумента (-1, 0, +1)</td><td><code class="literal">sign(-8.4)</code></td><td><code class="literal">-1</code></td></tr><tr><td><a class="indexterm" id="idp10061"></a> <code class="literal"><code class="function">sqrt(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">квадратный корень</font></font></td><td><code class="literal">sqrt(2.0)</code></td><td><code class="literal">1.4142135623​731</code></td></tr><tr><td><a class="indexterm" id="idp10075"></a> <code class="literal"><code class="function">trunc(<code class="type">dp</code> или <code class="type">numeric</code>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тип аргумента</font></font></td><td>округление к нулю</td><td><code class="literal">trunc(42.8)</code></td><td><code class="literal">42</code></td></tr><tr><td><code class="literal"><code class="function">trunc(<em class="parameter"><code>v</code></em> <code class="type">numeric</code>, <em class="parameter"><code>s</code></em> <code class="type">int</code>)</code></code></td><td><code class="type">numeric</code></td><td>округление к 0 до <em class="parameter"><code>s</code></em> десятичных знаков</td><td><code class="literal">trunc(42.4382, 2)</code></td><td><code class="literal">42.43</code></td></tr><tr><td><a class="indexterm" id="idp10105"></a> <code class="literal"><code class="function">width_bucket(<em class="parameter"><code>operand</code></em> <code class="type">dp</code>, <em class="parameter"><code>b1</code></em> <code class="type">dp</code>, <em class="parameter"><code>b2</code></em> <code class="type">dp</code>, <em class="parameter"><code>count</code></em> <code class="type">int</code>)</code></code></td><td><code class="type">int</code></td><td>возвращает номер группы, в которую попадёт <em class="parameter"><code>operand</code></em> в гистограмме с числом групп <em class="parameter"><code>count</code></em> равного размера, в диапазоне от <em class="parameter"><code>b1</code></em> до <em class="parameter"><code>b2</code></em>; возвращает <code class="literal">0</code> или <code class="literal"><em class="parameter"><code>count</code></em>+1</code>, если операнд лежит вне диапазона</td><td><code class="literal">width_bucket(5.35, 0.024, 10.06, 5)</code></td><td><code class="literal">3</code></td></tr><tr><td><code class="literal"><code class="function">width_bucket(<em class="parameter"><code>operand</code></em> <code class="type">numeric</code>, <em class="parameter"><code>b1</code></em> <code class="type">numeric</code>, <em class="parameter"><code>b2</code></em> <code class="type">numeric</code>, <em class="parameter"><code>count</code></em> <code class="type">int</code>)</code></code></td><td><code class="type">int</code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">возвращает номер группы, в которую попадёт </font></font><em class="parameter"><code>operand</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> в гистограмме с числом групп </font></font><em class="parameter"><code>count</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> равного размера, в диапазоне от </font></font><em class="parameter"><code>b1</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> до </font></font><em class="parameter"><code>b2</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; возвращает </font></font><code class="literal">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> или </font></font><code class="literal"><em class="parameter"><code>count</code></em>+1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, если операнд лежит вне диапазона</font></font></td><td><code class="literal">width_bucket(5.35, 0.024, 10.06, 5)</code></td><td><code class="literal">3</code></td></tr><tr><td><code class="literal"><code class="function">width_bucket(<em class="parameter"><code>operand</code></em> <code class="type">anyelement</code>, <em class="parameter"><code>thresholds</code></em> <code class="type">anyarray</code>)</code></code></td><td><code class="type">int</code></td><td>возвращает номер группы, в которую попадёт <em class="parameter"><code>operand</code></em> (группы определяются нижними границами, передаваемыми в <em class="parameter"><code>thresholds</code></em>); возвращает 0, если операнд оказывается левее нижней границы; массив <em class="parameter"><code>thresholds</code></em> <span class="emphasis"><em>должен быть отсортирован</em></span> по возрастанию, иначе будут получены неожиданные результаты</td><td><code class="literal">width_bucket(now(), array['yesterday', 'today', 'tomorrow']::timestamptz[])</code></td><td><code class="literal">2</code></td></tr></tbody></table>
## Тригонометрические функции
<table border="1" class="table" summary="Тригонометрические функции"><colgroup><col><col><col></colgroup><thead><tr><th>Функции (в радианах)</th><th>Функции (в градусах)</th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Описание</font></font></th></tr></thead><tbody><tr><td><a class="indexterm" id="idp10225"></a><code class="literal"><code class="function">acos(<em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10231"></a><code class="literal"><code class="function">acosd(<em class="replaceable"><code>x</code></em>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">арккосинус</font></font></td></tr><tr><td><a class="indexterm" id="idp10239"></a> <code class="literal"><code class="function">asin(<em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10245"></a> <code class="literal"><code class="function">asind(<em class="replaceable"><code>x</code></em>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">арксинус</font></font></td></tr><tr><td><a class="indexterm" id="idp10253"></a> <code class="literal"><code class="function">atan(<em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10259"></a> <code class="literal"><code class="function">atand(<em class="replaceable"><code>x</code></em>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">арктангенсы</font></font></td></tr><tr><td><a class="indexterm" id="idp10267"></a> <code class="literal"><code class="function">atan2(<em class="replaceable"><code>y</code></em>, <em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10274"></a> <code class="literal"><code class="function">atan2d(<em class="replaceable"><code>y</code></em>, <em class="replaceable"><code>x</code></em>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">арктангенсы</font></font><code class="literal"><em class="replaceable"><code>y</code></em>/<em class="replaceable"><code>x</code></em></code></td></tr><tr><td><a class="indexterm" id="idp10286"></a> <code class="literal"><code class="function">cos(<em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10292"></a> <code class="literal"><code class="function">cosd(<em class="replaceable"><code>x</code></em>)</code></code></td><td>косинус</td></tr><tr><td><a class="indexterm" id="idp10300"></a> <code class="literal"><code class="function">cot(<em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10306"></a> <code class="literal"><code class="function">cotd(<em class="replaceable"><code>x</code></em>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">котангенс</font></font></td></tr><tr><td><a class="indexterm" id="idp10314"></a> <code class="literal"><code class="function">sin(<em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10320"></a> <code class="literal"><code class="function">sind(<em class="replaceable"><code>x</code></em>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пазуха</font></font></td></tr><tr><td><a class="indexterm" id="idp10328"></a> <code class="literal"><code class="function">tan(<em class="replaceable"><code>x</code></em>)</code></code></td><td><a class="indexterm" id="idp10334"></a> <code class="literal"><code class="function">tand(<em class="replaceable"><code>x</code></em>)</code></code></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">касательная</font></font></td></tr></tbody></table>
