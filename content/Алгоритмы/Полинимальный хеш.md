---
title: Полинимальный хеш
date: 2023-11-04
---
#строка 

## Определение
> Будем считать любой строковый символ как число

Тогда определим прямой полиминомиальный хеш как значение следующего многочлена: `h = (s[0] + s[1]*k + s[2]*k^2 + ... + s[n-1]*k^(n-1)`

Так как получившийся хеш может очень большим число, необходимо брать значение по модулю (то есть остатка от деления)

## Код
```ts
function pol_hash(s: string) {
	const k = 31;
	const mod = 10**9+7;
	let hash = 0;
	let m = 1;
	for (let i = 0; i < s.length; i++) {
		let x = s[i].charCodeAt() - "a".charCodeAt() + 1;
		h = (h + m * x) % mod;
		m = (m * k) % mod;
	}
	return hash;
}
```

## Зачем это нужно?
Любые операции со строками сложнее, чем операции с числами. Поэтому например **количество разных подстрок** можно решать с помощью множества, сохраняя туда хеши. Поэтому сложность операции сохранения числа в множество будет меньше, чем если бы мы работали со строками

Существует также [[алгоритм Рабина-Карпа]], который основан на полинимальном хеше

Как вариант использования - это палиндромность строки. Мы можем вычислить обратный и прямой хеш и сравнивать их, если они равны, то строка является палиндромом